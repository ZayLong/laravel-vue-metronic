var l=Object.defineProperty;var n=(d,i,t)=>i in d?l(d,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[i]=t;var r=(d,i,t)=>(n(d,typeof i!="symbol"?i+"":i,t),t);import{aw as u,V as f,az as e,ap as a}from"./index-840b6d0c.js";const o=class o{static init(){this.bodyStore=u(),this.configStore=f(),o.emptyElementClassesAndAttributes(document.body),o.initLayoutSettings(),o.initToolbarSettings(),o.initWidthSettings(),o.initDefaultLayout(),o.initToolbar(),o.initSidebar(),o.initSidebarPanel(),o.initHeader(),o.initFooter()}static initLayoutSettings(){const i=e.get(a.value,"general.pageWidth"),t=e.get(a.value,"general.layout");this.bodyStore.addBodyAttribute({qualifiedName:"id",value:"kt_app_body"}),this.bodyStore.addBodyClassname("app-"+t),this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-layout",value:t}),t==="light-sidebar"&&(this.configStore.setLayoutConfigProperty("header.default.fixed.desktop",!1),this.configStore.setLayoutConfigProperty("header.default.fixed.mobile",!1)),(t==="light-sidebar"||t==="dark-sidebar")&&i==="default"&&(this.configStore.setLayoutConfigProperty("header.default.container","fluid"),this.configStore.setLayoutConfigProperty("toolbar.container","fluid"),this.configStore.setLayoutConfigProperty("content.container","fluid"),this.configStore.setLayoutConfigProperty("footer.container","fluid")),(t==="light-sidebar"||t==="dark-sidebar")&&this.configStore.setLayoutConfigProperty("sidebar.display",!0),(t==="light-header"||t==="dark-header")&&(this.configStore.setLayoutConfigProperty("sidebar.display",!1),i==="default"&&(this.configStore.setLayoutConfigProperty("header.default.container","fixed"),this.configStore.setLayoutConfigProperty("toolbar.container","fixed"),this.configStore.setLayoutConfigProperty("content.container","fixed"),this.configStore.setLayoutConfigProperty("footer.container","fixed")))}static initToolbarSettings(){e.get(a.value,"header.default.content")==="pageTitle"&&this.configStore.setLayoutConfigProperty("footer.container","fixed")}static initWidthSettings(){const i=e.get(a.value,"general.pageWidth");if(i!=="default"){const t=i==="fluid"?"fluid":"fixed";this.configStore.setLayoutConfigProperty("header.default.container",t),this.configStore.setLayoutConfigProperty("toolbar.container",t),this.configStore.setLayoutConfigProperty("content.container",t),this.configStore.setLayoutConfigProperty("footer.container",t)}}static initDefaultLayout(){e.get(a.value,"page.class")&&this.bodyStore.addClassname({position:"page",className:e.get(a.value,"page.class")}),e.get(a.value,"page.container")==="fixed"?this.bodyStore.addClassname({position:"page-container",className:"container-xxl"}):e.get(a.value,"page.container")==="fluid"&&this.bodyStore.addClassname({position:"page-container",className:"container-fluid"}),e.get(a.value,"page.containerClass")&&this.bodyStore.addClassname({position:"page-container",className:e.get(a.value,"page.containerClass")}),e.get(a.value,"wrapper.class")&&this.bodyStore.addClassname({position:"wrapper",className:e.get(a.value,"wrapper.class")}),e.get(a.value,"wrapper.container")==="fixed"?this.bodyStore.addClassname({position:"wrapper-container",className:"container-xxl"}):e.get(a.value,"wrapper.container")==="fluid"&&this.bodyStore.addClassname({position:"wrapper-container",className:"container-fluid"}),e.get(a.value,"wrapper.containerClass")&&this.bodyStore.addClassname({position:"wrapper-container",className:"container-fluid"})}static initToolbar(){this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-toolbar-enabled",value:"true"}),e.get(a.value,"toolbar.class")&&this.bodyStore.addClassname({position:"toolbar",className:e.get(a.value,"toolbar.class")}),e.get(a.value,"toolbar.container")==="fixed"?this.bodyStore.addClassname({position:"toolbar-container",className:"container-xxl"}):e.get(a.value,"toolbar.container")==="fluid"&&this.bodyStore.addClassname({position:"toolbar-container",className:"container-fluid"}),e.get(a.value,"toolbar.containerClass")&&this.bodyStore.addClassname({position:"toolbar-container",className:e.get(a.value,"toolbar.containerClass")}),e.get(a.value,"toolbar.fixed.desktop")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-toolbar-fixed",value:"true"}),e.get(a.value,"toolbar.fixed.mobile")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-toolbar-fixed-mobile",value:"true"})}static initSidebar(){e.get(a.value,"sidebar.display")&&(this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-enabled",value:"true"}),this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-fixed",value:"true"}),e.get(a.value,"sidebar.default.minimize.desktop.hoverable")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-hoverable",value:"true"}),this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-push-header",value:"true"}),this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-push-toolbar",value:"true"}),this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-push-footer",value:"true"}),e.get(a.value,"sidebar.primary.minimize.desktop.enabled")&&(e.get(a.value,"sidebar.primary.minimize.desktop.default")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-minimize",value:"on"}),e.get(a.value,"sidebar.primary.minimize.desktop.hoverable")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-hoverable",value:"on"}),e.get(a.value,"sidebar.primary.minimize.mobile.enabled")&&(e.get(a.value,"sidebar.primary.minimize.desktop.default")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-minimize-mobile",value:"on"}),e.get(a.value,"sidebar.primary.minimize.mobile.hoverable")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-hoverable-mobile",value:"on"})),e.get(a.value,"sidebar.primary.collapse.desktop.enabled")&&e.get(a.value,"sidebar.primary.collapse.desktop.default")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-collapse",value:"on"}),e.get(a.value,"sidebar.primary.collapse.mobile.enabled")&&e.get(a.value,"sidebar.primary.collapse.mobile.default")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-primary-collapse-mobile",value:"on"})))}static initSidebarPanel(){e.get(a.value,"sidebarPanel.class")&&this.bodyStore.addClassname({position:"sidebar-panel",className:e.get(a.value,"sidebarPanel.class")}),e.get(a.value,"sidebarPanel.fixed.desktop")?this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-panel-fixed",value:"true"}):this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-panel-fixed",value:"false"}),e.get(a.value,"sidebarPanel.minimize.desktop.enabled")&&(e.get(a.value,"sidebarPanel.minimize.desktop.default")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-panel-minimize",value:"on"}),e.get(a.value,"sidebarPanel.minimize.desktop.hoverable")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-panel-hoverable",value:"on"}),e.get(a.value,"sidebarPanel.minimize.mobile.enabled")&&e.get(a.value,"sidebarPanel.minimize.desktop.hoverable")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-sidebar-panel-hoverable",value:"on"}))}static initHeader(){e.get(a.value,"header.display")&&(e.get(a.value,"header.default.fixed.desktop")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-header-fixed",value:"true"}),e.get(a.value,"header.default.fixed.mobile")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-header-fixed-mobile",value:"true"}),e.get(a.value,"header.default.fixed.mobile")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-header-fixed-mobile",value:"true"}))}static initFooter(){e.get(a.value,"footer.fixed.desktop")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-footer-fixed",value:"true"}),e.get(a.value,"footer.fixed.mobile")&&this.bodyStore.addBodyAttribute({qualifiedName:"data-kt-app-footer-fixed-mobile",value:"true"})}static emptyElementClassesAndAttributes(i){i.className="";for(let t=i.attributes.length;t-- >0;)i.removeAttributeNode(i.attributes[t])}};r(o,"bodyStore"),r(o,"configStore");let s=o;export{s as L};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGF5b3V0U2VydmljZS01MTM2ZGM0My5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvcmUvc2VydmljZXMvTGF5b3V0U2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JqZWN0UGF0aCBmcm9tIFwib2JqZWN0LXBhdGhcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCJAL2xheW91dHMvZGVmYXVsdC1sYXlvdXQvY29uZmlnL2hlbHBlclwiO1xuaW1wb3J0IHsgdXNlQm9keVN0b3JlIH0gZnJvbSBcIkAvc3RvcmVzL2JvZHlcIjtcbmltcG9ydCB7IHVzZUNvbmZpZ1N0b3JlIH0gZnJvbSBcIkAvc3RvcmVzL2NvbmZpZ1wiO1xuXG5jbGFzcyBMYXlvdXRTZXJ2aWNlIHtcbiAgcHVibGljIHN0YXRpYyBib2R5U3RvcmU6IGFueTtcbiAgcHVibGljIHN0YXRpYyBjb25maWdTdG9yZTogYW55O1xuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gaW5pdGlhbGl6ZSBkZWZhdWx0IGxheW91dFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuYm9keVN0b3JlID0gdXNlQm9keVN0b3JlKCk7XG4gICAgdGhpcy5jb25maWdTdG9yZSA9IHVzZUNvbmZpZ1N0b3JlKCk7XG5cbiAgICAvL2VtcHR5IGJvZHkgZWxlbWVudCBjbGFzc2VzIGFuZCBhdHRyaWJ1dGVzXG4gICAgTGF5b3V0U2VydmljZS5lbXB0eUVsZW1lbnRDbGFzc2VzQW5kQXR0cmlidXRlcyhkb2N1bWVudC5ib2R5KTtcblxuICAgIC8vc2V0dXAgbGF5b3V0XG4gICAgTGF5b3V0U2VydmljZS5pbml0TGF5b3V0U2V0dGluZ3MoKTtcbiAgICBMYXlvdXRTZXJ2aWNlLmluaXRUb29sYmFyU2V0dGluZ3MoKTtcbiAgICBMYXlvdXRTZXJ2aWNlLmluaXRXaWR0aFNldHRpbmdzKCk7XG5cbiAgICAvLyBpbml0IGxheW91dCBjb21wb25lbnRzXG4gICAgTGF5b3V0U2VydmljZS5pbml0RGVmYXVsdExheW91dCgpO1xuICAgIExheW91dFNlcnZpY2UuaW5pdFRvb2xiYXIoKTtcbiAgICBMYXlvdXRTZXJ2aWNlLmluaXRTaWRlYmFyKCk7XG4gICAgTGF5b3V0U2VydmljZS5pbml0U2lkZWJhclBhbmVsKCk7XG4gICAgTGF5b3V0U2VydmljZS5pbml0SGVhZGVyKCk7XG4gICAgTGF5b3V0U2VydmljZS5pbml0Rm9vdGVyKCk7XG4gIH1cblxuICAvLyBJbml0IExheW91dCBzZXR0aW5nc1xuICBwdWJsaWMgc3RhdGljIGluaXRMYXlvdXRTZXR0aW5ncygpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlV2lkdGggPSBvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwiZ2VuZXJhbC5wYWdlV2lkdGhcIik7XG4gICAgY29uc3QgbGF5b3V0ID0gb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcImdlbmVyYWwubGF5b3V0XCIpO1xuXG4gICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICBxdWFsaWZpZWROYW1lOiBcImlkXCIsXG4gICAgICB2YWx1ZTogXCJrdF9hcHBfYm9keVwiLFxuICAgIH0pO1xuICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlDbGFzc25hbWUoXCJhcHAtXCIgKyBsYXlvdXQpO1xuXG4gICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLWxheW91dFwiLFxuICAgICAgdmFsdWU6IGxheW91dCxcbiAgICB9KTtcblxuICAgIC8vIExpZ2h0IHNpZGViYXJcbiAgICBpZiAobGF5b3V0ID09PSBcImxpZ2h0LXNpZGViYXJcIikge1xuICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRMYXlvdXRDb25maWdQcm9wZXJ0eShcbiAgICAgICAgXCJoZWFkZXIuZGVmYXVsdC5maXhlZC5kZXNrdG9wXCIsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuXG4gICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFxuICAgICAgICBcImhlYWRlci5kZWZhdWx0LmZpeGVkLm1vYmlsZVwiLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5b3V0ID09PSBcImxpZ2h0LXNpZGViYXJcIiB8fCBsYXlvdXQgPT09IFwiZGFyay1zaWRlYmFyXCIpIHtcbiAgICAgIGlmIChwYWdlV2lkdGggPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0TGF5b3V0Q29uZmlnUHJvcGVydHkoXG4gICAgICAgICAgXCJoZWFkZXIuZGVmYXVsdC5jb250YWluZXJcIixcbiAgICAgICAgICBcImZsdWlkXCJcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwidG9vbGJhci5jb250YWluZXJcIiwgXCJmbHVpZFwiKTtcblxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwiY29udGVudC5jb250YWluZXJcIiwgXCJmbHVpZFwiKTtcblxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwiZm9vdGVyLmNvbnRhaW5lclwiLCBcImZsdWlkXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsYXlvdXQgPT09IFwibGlnaHQtc2lkZWJhclwiIHx8IGxheW91dCA9PT0gXCJkYXJrLXNpZGViYXJcIikge1xuICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRMYXlvdXRDb25maWdQcm9wZXJ0eShcInNpZGViYXIuZGlzcGxheVwiLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAobGF5b3V0ID09PSBcImxpZ2h0LWhlYWRlclwiIHx8IGxheW91dCA9PT0gXCJkYXJrLWhlYWRlclwiKSB7XG4gICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwic2lkZWJhci5kaXNwbGF5XCIsIGZhbHNlKTtcblxuICAgICAgaWYgKHBhZ2VXaWR0aCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRMYXlvdXRDb25maWdQcm9wZXJ0eShcbiAgICAgICAgICBcImhlYWRlci5kZWZhdWx0LmNvbnRhaW5lclwiLFxuICAgICAgICAgIFwiZml4ZWRcIlxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0TGF5b3V0Q29uZmlnUHJvcGVydHkoXCJ0b29sYmFyLmNvbnRhaW5lclwiLCBcImZpeGVkXCIpO1xuXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0TGF5b3V0Q29uZmlnUHJvcGVydHkoXCJjb250ZW50LmNvbnRhaW5lclwiLCBcImZpeGVkXCIpO1xuXG4gICAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0TGF5b3V0Q29uZmlnUHJvcGVydHkoXCJmb290ZXIuY29udGFpbmVyXCIsIFwiZml4ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdCB0b29sYmFyIHNldHRpbmdzXG4gIHB1YmxpYyBzdGF0aWMgaW5pdFRvb2xiYXJTZXR0aW5ncygpOiB2b2lkIHtcbiAgICBjb25zdCBkZWZhdWx0Q29udGVudCA9IG9iamVjdFBhdGguZ2V0KFxuICAgICAgY29uZmlnLnZhbHVlLFxuICAgICAgXCJoZWFkZXIuZGVmYXVsdC5jb250ZW50XCJcbiAgICApO1xuXG4gICAgaWYgKGRlZmF1bHRDb250ZW50ID09PSBcInBhZ2VUaXRsZVwiKSB7XG4gICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwiZm9vdGVyLmNvbnRhaW5lclwiLCBcImZpeGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEluaXQgcGFnZSB3aWR0aCBzZXR0aW5nc1xuICBwdWJsaWMgc3RhdGljIGluaXRXaWR0aFNldHRpbmdzKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VXaWR0aCA9IG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJnZW5lcmFsLnBhZ2VXaWR0aFwiKTtcbiAgICBpZiAocGFnZVdpZHRoICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gcGFnZVdpZHRoID09PSBcImZsdWlkXCIgPyBcImZsdWlkXCIgOiBcImZpeGVkXCI7XG5cbiAgICAgIC8vIFNldCBwYWdlIHdpZHRoXG4gICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFxuICAgICAgICBcImhlYWRlci5kZWZhdWx0LmNvbnRhaW5lclwiLFxuICAgICAgICBjb250YWluZXJcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY29uZmlnU3RvcmUuc2V0TGF5b3V0Q29uZmlnUHJvcGVydHkoXCJ0b29sYmFyLmNvbnRhaW5lclwiLCBjb250YWluZXIpO1xuXG4gICAgICB0aGlzLmNvbmZpZ1N0b3JlLnNldExheW91dENvbmZpZ1Byb3BlcnR5KFwiY29udGVudC5jb250YWluZXJcIiwgY29udGFpbmVyKTtcblxuICAgICAgdGhpcy5jb25maWdTdG9yZS5zZXRMYXlvdXRDb25maWdQcm9wZXJ0eShcImZvb3Rlci5jb250YWluZXJcIiwgY29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXREZWZhdWx0TGF5b3V0KCk6IHZvaWQge1xuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwicGFnZS5jbGFzc1wiKSkge1xuICAgICAgdGhpcy5ib2R5U3RvcmUuYWRkQ2xhc3NuYW1lKHtcbiAgICAgICAgcG9zaXRpb246IFwicGFnZVwiLFxuICAgICAgICBjbGFzc05hbWU6IG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJwYWdlLmNsYXNzXCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJwYWdlLmNvbnRhaW5lclwiKSA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJwYWdlLWNvbnRhaW5lclwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiY29udGFpbmVyLXh4bFwiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwicGFnZS5jb250YWluZXJcIikgPT09IFwiZmx1aWRcIikge1xuICAgICAgdGhpcy5ib2R5U3RvcmUuYWRkQ2xhc3NuYW1lKHtcbiAgICAgICAgcG9zaXRpb246IFwicGFnZS1jb250YWluZXJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvbnRhaW5lci1mbHVpZFwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJwYWdlLmNvbnRhaW5lckNsYXNzXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJwYWdlLWNvbnRhaW5lclwiLFxuICAgICAgICBjbGFzc05hbWU6IG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJwYWdlLmNvbnRhaW5lckNsYXNzXCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJ3cmFwcGVyLmNsYXNzXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJ3cmFwcGVyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcIndyYXBwZXIuY2xhc3NcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcIndyYXBwZXIuY29udGFpbmVyXCIpID09PSBcImZpeGVkXCIpIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZENsYXNzbmFtZSh7XG4gICAgICAgIHBvc2l0aW9uOiBcIndyYXBwZXItY29udGFpbmVyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJjb250YWluZXIteHhsXCIsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJ3cmFwcGVyLmNvbnRhaW5lclwiKSA9PT0gXCJmbHVpZFwiKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJ3cmFwcGVyLWNvbnRhaW5lclwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiY29udGFpbmVyLWZsdWlkXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcIndyYXBwZXIuY29udGFpbmVyQ2xhc3NcIikpIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZENsYXNzbmFtZSh7XG4gICAgICAgIHBvc2l0aW9uOiBcIndyYXBwZXItY29udGFpbmVyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJjb250YWluZXItZmx1aWRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdFRvb2xiYXIoKTogdm9pZCB7XG4gICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXRvb2xiYXItZW5hYmxlZFwiLFxuICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgIH0pO1xuXG4gICAgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJ0b29sYmFyLmNsYXNzXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJ0b29sYmFyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuY2xhc3NcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuY29udGFpbmVyXCIpID09PSBcImZpeGVkXCIpIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZENsYXNzbmFtZSh7XG4gICAgICAgIHBvc2l0aW9uOiBcInRvb2xiYXItY29udGFpbmVyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJjb250YWluZXIteHhsXCIsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJ0b29sYmFyLmNvbnRhaW5lclwiKSA9PT0gXCJmbHVpZFwiKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJ0b29sYmFyLWNvbnRhaW5lclwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiY29udGFpbmVyLWZsdWlkXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuY29udGFpbmVyQ2xhc3NcIikpIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZENsYXNzbmFtZSh7XG4gICAgICAgIHBvc2l0aW9uOiBcInRvb2xiYXItY29udGFpbmVyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuY29udGFpbmVyQ2xhc3NcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuZml4ZWQuZGVza3RvcFwiKSkge1xuICAgICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtdG9vbGJhci1maXhlZFwiLFxuICAgICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInRvb2xiYXIuZml4ZWQubW9iaWxlXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC10b29sYmFyLWZpeGVkLW1vYmlsZVwiLFxuICAgICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGluaXRTaWRlYmFyKCk6IHZvaWQge1xuICAgIGlmICghb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXIuZGlzcGxheVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLWVuYWJsZWRcIixcbiAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICB9KTtcblxuICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLWZpeGVkXCIsXG4gICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgfSk7XG5cbiAgICBpZiAoXG4gICAgICBvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhci5kZWZhdWx0Lm1pbmltaXplLmRlc2t0b3AuaG92ZXJhYmxlXCIpXG4gICAgKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLWhvdmVyYWJsZVwiLFxuICAgICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtc2lkZWJhci1wdXNoLWhlYWRlclwiLFxuICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgIH0pO1xuXG4gICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcHVzaC10b29sYmFyXCIsXG4gICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgfSk7XG5cbiAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtc2lkZWJhci1wdXNoLWZvb3RlclwiLFxuICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgIH0pO1xuXG4gICAgaWYgKFxuICAgICAgb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXIucHJpbWFyeS5taW5pbWl6ZS5kZXNrdG9wLmVuYWJsZWRcIilcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXIucHJpbWFyeS5taW5pbWl6ZS5kZXNrdG9wLmRlZmF1bHRcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcHJpbWFyeS1taW5pbWl6ZVwiLFxuICAgICAgICAgIHZhbHVlOiBcIm9uXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIG9iamVjdFBhdGguZ2V0KFxuICAgICAgICAgIGNvbmZpZy52YWx1ZSxcbiAgICAgICAgICBcInNpZGViYXIucHJpbWFyeS5taW5pbWl6ZS5kZXNrdG9wLmhvdmVyYWJsZVwiXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcHJpbWFyeS1ob3ZlcmFibGVcIixcbiAgICAgICAgICB2YWx1ZTogXCJvblwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhci5wcmltYXJ5Lm1pbmltaXplLm1vYmlsZS5lbmFibGVkXCIpXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9iamVjdFBhdGguZ2V0KFxuICAgICAgICAgICAgY29uZmlnLnZhbHVlLFxuICAgICAgICAgICAgXCJzaWRlYmFyLnByaW1hcnkubWluaW1pemUuZGVza3RvcC5kZWZhdWx0XCJcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLXByaW1hcnktbWluaW1pemUtbW9iaWxlXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJvblwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9iamVjdFBhdGguZ2V0KFxuICAgICAgICAgICAgY29uZmlnLnZhbHVlLFxuICAgICAgICAgICAgXCJzaWRlYmFyLnByaW1hcnkubWluaW1pemUubW9iaWxlLmhvdmVyYWJsZVwiXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtc2lkZWJhci1wcmltYXJ5LWhvdmVyYWJsZS1tb2JpbGVcIixcbiAgICAgICAgICAgIHZhbHVlOiBcIm9uXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhci5wcmltYXJ5LmNvbGxhcHNlLmRlc2t0b3AuZW5hYmxlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvYmplY3RQYXRoLmdldChcbiAgICAgICAgICAgIGNvbmZpZy52YWx1ZSxcbiAgICAgICAgICAgIFwic2lkZWJhci5wcmltYXJ5LmNvbGxhcHNlLmRlc2t0b3AuZGVmYXVsdFwiXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtc2lkZWJhci1wcmltYXJ5LWNvbGxhcHNlXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJvblwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXIucHJpbWFyeS5jb2xsYXBzZS5tb2JpbGUuZW5hYmxlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvYmplY3RQYXRoLmdldChcbiAgICAgICAgICAgIGNvbmZpZy52YWx1ZSxcbiAgICAgICAgICAgIFwic2lkZWJhci5wcmltYXJ5LmNvbGxhcHNlLm1vYmlsZS5kZWZhdWx0XCJcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLXByaW1hcnktY29sbGFwc2UtbW9iaWxlXCIsXG4gICAgICAgICAgICB2YWx1ZTogXCJvblwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0U2lkZWJhclBhbmVsKCk6IHZvaWQge1xuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhclBhbmVsLmNsYXNzXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRDbGFzc25hbWUoe1xuICAgICAgICBwb3NpdGlvbjogXCJzaWRlYmFyLXBhbmVsXCIsXG4gICAgICAgIGNsYXNzTmFtZTogb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXJQYW5lbC5jbGFzc1wiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhclBhbmVsLmZpeGVkLmRlc2t0b3BcIikpIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcGFuZWwtZml4ZWRcIixcbiAgICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcGFuZWwtZml4ZWRcIixcbiAgICAgICAgdmFsdWU6IFwiZmFsc2VcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhclBhbmVsLm1pbmltaXplLmRlc2t0b3AuZW5hYmxlZFwiKSkge1xuICAgICAgaWYgKFxuICAgICAgICBvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwic2lkZWJhclBhbmVsLm1pbmltaXplLmRlc2t0b3AuZGVmYXVsdFwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtc2lkZWJhci1wYW5lbC1taW5pbWl6ZVwiLFxuICAgICAgICAgIHZhbHVlOiBcIm9uXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJzaWRlYmFyUGFuZWwubWluaW1pemUuZGVza3RvcC5ob3ZlcmFibGVcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgICBxdWFsaWZpZWROYW1lOiBcImRhdGEta3QtYXBwLXNpZGViYXItcGFuZWwtaG92ZXJhYmxlXCIsXG4gICAgICAgICAgdmFsdWU6IFwib25cIixcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgb2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcInNpZGViYXJQYW5lbC5taW5pbWl6ZS5tb2JpbGUuZW5hYmxlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvYmplY3RQYXRoLmdldChcbiAgICAgICAgICAgIGNvbmZpZy52YWx1ZSxcbiAgICAgICAgICAgIFwic2lkZWJhclBhbmVsLm1pbmltaXplLmRlc2t0b3AuaG92ZXJhYmxlXCJcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuYm9keVN0b3JlLmFkZEJvZHlBdHRyaWJ1dGUoe1xuICAgICAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1zaWRlYmFyLXBhbmVsLWhvdmVyYWJsZVwiLFxuICAgICAgICAgICAgdmFsdWU6IFwib25cIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEhlYWRlcigpOiB2b2lkIHtcbiAgICBpZiAoIW9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJoZWFkZXIuZGlzcGxheVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwiaGVhZGVyLmRlZmF1bHQuZml4ZWQuZGVza3RvcFwiKSkge1xuICAgICAgdGhpcy5ib2R5U3RvcmUuYWRkQm9keUF0dHJpYnV0ZSh7XG4gICAgICAgIHF1YWxpZmllZE5hbWU6IFwiZGF0YS1rdC1hcHAtaGVhZGVyLWZpeGVkXCIsXG4gICAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwiaGVhZGVyLmRlZmF1bHQuZml4ZWQubW9iaWxlXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1oZWFkZXItZml4ZWQtbW9iaWxlXCIsXG4gICAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvYmplY3RQYXRoLmdldChjb25maWcudmFsdWUsIFwiaGVhZGVyLmRlZmF1bHQuZml4ZWQubW9iaWxlXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1oZWFkZXItZml4ZWQtbW9iaWxlXCIsXG4gICAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdEZvb3RlcigpOiB2b2lkIHtcbiAgICBpZiAob2JqZWN0UGF0aC5nZXQoY29uZmlnLnZhbHVlLCBcImZvb3Rlci5maXhlZC5kZXNrdG9wXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1mb290ZXItZml4ZWRcIixcbiAgICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdFBhdGguZ2V0KGNvbmZpZy52YWx1ZSwgXCJmb290ZXIuZml4ZWQubW9iaWxlXCIpKSB7XG4gICAgICB0aGlzLmJvZHlTdG9yZS5hZGRCb2R5QXR0cmlidXRlKHtcbiAgICAgICAgcXVhbGlmaWVkTmFtZTogXCJkYXRhLWt0LWFwcC1mb290ZXItZml4ZWQtbW9iaWxlXCIsXG4gICAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZW1wdHlFbGVtZW50Q2xhc3Nlc0FuZEF0dHJpYnV0ZXMoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGktLSA+IDA7IClcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlTm9kZShlbGVtZW50LmF0dHJpYnV0ZXNbaV0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheW91dFNlcnZpY2U7XG4iXSwibmFtZXMiOlsiX0xheW91dFNlcnZpY2UiLCJ1c2VCb2R5U3RvcmUiLCJ1c2VDb25maWdTdG9yZSIsInBhZ2VXaWR0aCIsIm9iamVjdFBhdGgiLCJjb25maWciLCJsYXlvdXQiLCJjb250YWluZXIiLCJlbGVtZW50IiwiaSIsIl9fcHVibGljRmllbGQiLCJMYXlvdXRTZXJ2aWNlIl0sIm1hcHBpbmdzIjoid09BS0EsTUFBTUEsRUFBTixNQUFNQSxDQUFjLENBT2xCLE9BQWMsTUFBYSxDQUN6QixLQUFLLFVBQVlDLElBQ2pCLEtBQUssWUFBY0MsSUFHTEYsRUFBQSxpQ0FBaUMsU0FBUyxJQUFJLEVBRzVEQSxFQUFjLG1CQUFtQixFQUNqQ0EsRUFBYyxvQkFBb0IsRUFD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
